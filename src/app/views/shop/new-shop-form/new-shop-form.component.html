<div class="modal-header">
  <h4 class="modal-title pull-left">Add new Shop</h4>
  <button type="button" class="close pull-right" aria-label="Close" (click)="onCloseModal();">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <form role="form" #f="ngForm" (ngSubmit)="onSubmit(f)">
    <div class="row">
      <div class="col-lg-6">
        <div class="card">
          <div class="card-header">User Details</div>
          <div class="card-body">
            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <label>First Name<span class="required-field">*</span></label>
                  <input type="text" class="form-control form-control-sm"
                         placeholder="Enter first name"
                         required
                         [(ngModel)]="shop.firstName" name="firstName" #firstName="ngModel">
                  <div *ngIf="firstName.invalid && (f.submitted || firstName.dirty || firstName.touched)"
                       class="required-alert alert alert-danger">
                          <span *ngIf="firstName.errors.required">
                            This field is required.
                          </span>
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label>Last Name <span class="required-field">*</span></label>
                  <input type="text" class="form-control form-control-sm"
                         placeholder="Enter last name"
                         required
                         [(ngModel)]="shop.lastName" name="lastName" #lastName="ngModel">
                  <div *ngIf="lastName.invalid && (f.submitted || lastName.dirty || lastName.touched)"
                       class="required-alert alert alert-danger">
                          <span *ngIf="lastName.errors.required">
                            This field is required.
                          </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <label>Login Name<span class="required-field">*</span></label>
                  <input type="text" class="form-control form-control-sm"
                         placeholder="Enter login name"
                         required
                         (blur)="onBlurLoginName(shop.loginName);"
                         [(ngModel)]="shop.loginName" name="loginName" #loginName="ngModel">
                  <div *ngIf="loginName.invalid && (f.submitted || loginName.dirty || loginName.touched)"
                       class="required-alert alert alert-danger">
                          <!--<span *ngIf="loginName.hasError('onTypeCheckAvailability')">-->
                            <!--LoginNAme already Exists-->
                          <!--</span>-->
                          <span *ngIf="loginName.errors.required">
                            This field is required
                          </span>
                  </div>
                  <span class="required-alert alert alert-danger" *ngIf="!loginName_availability">
                    Login Name not Available.
                  </span>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label>Password <span class="required-field">*</span></label>
                  <input type="password" class="form-control form-control-sm"
                         placeholder="Enter Password"
                         required
                         [(ngModel)]="shop.password" name="password" #password="ngModel">
                  <div *ngIf="password.invalid && (f.submitted || password.dirty || password.touched)"
                       class="required-alert alert alert-danger">
                          <span *ngIf="password.errors.required">
                            This field is required.
                          </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-group">
                  <label>Email<span class="required-field">*</span></label>
                  <input type="email" class="form-control form-control-sm"
                         placeholder="example@mail.com"
                         pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                         required
                         [(ngModel)]="shop.email" name="email" #email="ngModel">
                  <div *ngIf="email.invalid && (f.submitted || email.dirty || email.touched)"
                       class="required-alert alert alert-danger">
                          <span *ngIf="email.errors.required">
                            This field is required.
                          </span>
                    <span *ngIf="email.errors.pattern">
                        Email is invalid.
                      </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group">

                <label style="padding-left: 15px;">Telephone Number</label><span
                class="required-field leftrightpadding"> *</span>
                <div class="form-group" style="margin-bottom: 0;">
                  <div class="row">
                    <div class="col-md-4 leftrightpadding bottomspace-new">
                      <input type="text" class="form-control form-control-sm"
                             name="phoneCode" id="phoneCode" placeholder="Code" readonly/>
                    </div>
                    <div class="col-md-8 leftrightpadding">
                      <input class="form-control form-control-sm ng-dirty ng-invalid ng-touched"  [(ngModel)]="shop.telephone" dropspecialcharacters="false" id="telephone" mask="(99) 999 9999" name="telephone" placeholder="(99) 999 9999" required="" restrict="reject" type="text" ng-reflect-required="" ng-reflect-mask-expression="(99) 999 9999" ng-reflect-drop-special-characters="false" ng-reflect-name="telephone"  #telephone="ngModel" ng-reflect-model="">

                      <!--<input type="text" class="form-control form-control-sm" [(ngModel)]="shop.telephone"-->
                             <!--name="telephone" id="telephone"-->
                             <!--mask="(99) 999 9999" dropSpecialCharacters="false" restrict="reject"-->
                             <!--placeholder="(99) 999 9999" #telephone="ngModel"/>-->
                      <div *ngIf="telephone.invalid && (f.submitted || telephone.dirty || telephone.touched)"
                           class="required-alert alert alert-danger">
                            <span *ngIf="telephone.errors.required">
                              This field is required.
                            </span>
                        <span *ngIf="telephone.errors.mask">
                              Enter a valid Mobile Number.
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>


        </div>
      </div>
      <div class="col-lg-6">
        <div class="card">
          <div class="card-header">Shop Details</div>
          <div class="card-body">
            <div class="row">
              <div class="col-sm-12">
                <div class="form-group">
                  <label>Shop Name<span class="required-field">*</span></label>
                  <input type="text" class="form-control form-control-sm"
                         placeholder="Enter shop name"
                         required
                         [(ngModel)]="shop.shopName" name="shopName" #shopName="ngModel">

                  <div *ngIf="shopName.invalid && (f.submitted || shopName.dirty || shopName.touched)"
                       class="required-alert alert alert-danger">
                          <span *ngIf="shopName.errors.required">
                            This field is required.
                          </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <label>Shop Category<span class="required-field">*</span></label>
                <ng-select [items]="shopChategories"
                           bindLabel="name"
                           bindValue="categoryId"
                           placeholder="Select shop Category"
                           [(ngModel)]="shop.shopCategory" name="selectedCategory" #selectedCategory="ngModel">
                </ng-select>
              </div>
            </div>
            <br>
            <label>Address<span class="required-field">*</span></label>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-group">
                  <input type="text" class="form-control form-control-sm"
                         placeholder="Enter address line 01"
                         required
                         [(ngModel)]="shop.address1" name="address1" #address1="ngModel">

                  <div *ngIf="address1.invalid && (f.submitted || address1.dirty || address1.touched)"
                       class="required-alert alert alert-danger">
                          <span *ngIf="address1.errors.required">
                            This field is required.
                          </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-group">
                  <input type="text" class="form-control form-control-sm"
                         placeholder="Enter address line 02"
                         required
                         [(ngModel)]="shop.address2" name="address2" #address2="ngModel">

                  <div *ngIf="address2.invalid && (f.submitted || address2.dirty || address2.touched)"
                       class="required-alert alert alert-danger">
                          <span *ngIf="address2.errors.required">
                            This field is required.
                          </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-8">
                <div class="form-group">
                  <input type="text" class="form-control form-control-sm"
                         placeholder="Enter City"
                         required
                         [(ngModel)]="shop.city" name="city" #city="ngModel">
                  <div *ngIf="city.invalid && (f.submitted || city.dirty || city.touched)"
                       class="required-alert alert alert-danger">
                          <span *ngIf="city.errors.required">
                            This field is required.
                          </span>
                  </div>
                </div>
              </div>
              <div class="col-sm-4">
                <div class="form-group">
                  <!--<label>Postal Code<span class="required-field">*</span></label>-->
                  <input type="text" class="form-control form-control-sm"
                         placeholder="Enter Postal Code"
                         required
                         [(ngModel)]="shop.postalCode" name="postalCode" #postalCode="ngModel">
                  <div *ngIf="postalCode.invalid && (f.submitted || postalCode.dirty || postalCode.touched)"
                       class="required-alert alert alert-danger">
                          <span *ngIf="postalCode.errors.required">
                            This field is required.
                          </span>
                  </div>
                </div>
              </div>

            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-group">
                  <ng-select [items]="countryList"
                             bindLabel="name"
                             bindValue="countryId"
                             placeholder="Select Country"
                             [(ngModel)]="shop.countryId" name="selectedCountry" #selectedCountry="ngModel">
                  </ng-select>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="form-group">
                  <ng-select [items]="currencyList"
                             bindLabel="currencyDisplay"
                             bindValue="code"
                             placeholder="Select Currency"
                             [(ngModel)]="shop.currency" name="selectedCurrency" #selectedCurrency="ngModel">
                  </ng-select>
                </div>
              </div>

            </div>


          </div>
        </div>
      </div>
    </div>
    <div class="row" style="padding-top: 5px;">
      <div class="col-md-12 text-right">
        <button type="submit" [disabled]="waitHttpResponse"
                class="btn btn-sm btn-success"><i class="fa fa-dot-circle-o"></i> Submit
        </button>
        <button type="button" class="btn btn-sm btn-danger" (click)="onClickReset(f);"><i class="fa fa-ban"></i>
          Reset
        </button>
      </div>
    </div>

  </form>
</div>
